{% extends 'base.html.twig' %}

{% block title %}Mon Profil{% endblock %}

{% block body %}
<div class="min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 flex flex-col items-center justify-center py-12">

    <div class="bg-white p-12 rounded-3xl shadow-2xl text-center max-w-lg w-full mx-4">

        <!-- HEADER -->
        <div class="mb-8">
            <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 mb-4">
                <i class="bi bi-person-circle mr-3"></i>
                Mon Profil
            </h1>
            <p class="text-gray-600">
                Bienvenue sur votre espace personnel
            </p>
        </div>

        <!-- PROFILE PHOTO -->
        <div class="mb-8">
            {% if 'ROLE_RECRUITER' in user.roles %}
                {% if user.photo %}
                    <img src="{{ asset('uploads/user/photo/' ~ user.photo) }}"
                         class="w-32 h-32 rounded-full mx-auto shadow-xl border-4 border-indigo-200">
                {% elseif user.logo %}
                    <img src="{{ asset('uploads/recruiter/logo/' ~ user.logo) }}"
                         class="w-32 h-32 rounded-full mx-auto shadow-xl border-4 border-indigo-200">
                {% else %}
                    <div class="w-32 h-32 rounded-full mx-auto bg-gradient-to-r from-gray-400 to-gray-500 flex items-center justify-center shadow-xl border-4 border-gray-300">
                        <i class="bi bi-building text-4xl text-white"></i>
                    </div>
                {% endif %}
            {% else %}
                {% if user.photo %}
                    <img src="{{ asset('uploads/candidate/photo/' ~ user.photo) }}"
                         class="w-32 h-32 rounded-full mx-auto shadow-xl border-4 border-indigo-200">
                {% else %}
                    <div class="w-32 h-32 rounded-full mx-auto bg-gradient-to-r from-gray-400 to-gray-500 flex items-center justify-center shadow-xl border-4 border-gray-300">
                        <i class="bi bi-person-fill text-4xl text-white"></i>
                    </div>
                {% endif %}
            {% endif %}
        </div>

        <!-- USER INFO -->
        <div class="mb-8">
            <h2 class="text-3xl font-extrabold mb-2 text-gray-900">
                {{ user.fullName ?? user.companyName }}
            </h2>
            <p class="text-xl text-gray-600 mb-2">
                {{ user.email }}
            </p>
            {% if user.city %}
                <p class="text-lg text-gray-500 flex items-center justify-center">
                    <i class="bi bi-geo-alt mr-2"></i>
                    {{ user.city }}
                </p>
            {% endif %}
        </div>

        <!-- ROLE BADGE -->
        <div class="mb-8">
            <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-bold
                {% if 'ROLE_RECRUITER' in user.roles %}
                    bg-purple-100 text-purple-800
                {% else %}
                    bg-blue-100 text-blue-800
                {% endif %}">
                <i class="bi bi-shield-check mr-2"></i>
                {% if 'ROLE_RECRUITER' in user.roles %}
                    Recruteur
                {% else %}
                    Candidat
                {% endif %}
            </span>
        </div>

        <!-- LOGOUT BUTTON -->
        <a href="{{ path('app_logout') }}"
           class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-red-500 to-red-600 text-white font-bold rounded-full hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
            <i class="bi bi-box-arrow-right mr-2"></i>
            Se d√©connecter
        </a>

        <!-- QUICK LINKS -->
        <div class="mt-8 pt-8 border-t border-gray-200">
            <div class="flex justify-center space-x-4">
                {% if 'ROLE_RECRUITER' in user.roles %}
                    <a href="{{ path('recruiter_dashboard') }}"
                       class="inline-flex items-center px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors duration-200">
                        <i class="bi bi-speedometer2 mr-2"></i>
                        Dashboard
                    </a>
                    <a href="{{ path('recruiter_candidatures') }}"
                       class="inline-flex items-center px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors duration-200">
                        <i class="bi bi-people mr-2"></i>
                        Candidatures
                    </a>
                {% else %}
                    <a href="{{ path('candidate_applications_list') }}"
                       class="inline-flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors duration-200">
                        <i class="bi bi-file-earmark-text mr-2"></i>
                        Mes Candidatures
                    </a>
                    <a href="{{ path('joboffer_list') }}"
                       class="inline-flex items-center px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors duration-200">
                        <i class="bi bi-search mr-2"></i>
                        Offres
                    </a>
                {% endif %}
            </div>
        </div>
    </div>

</div>
{% endblock %}
